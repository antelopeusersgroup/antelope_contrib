.TH WEB_STAMAP 1 
.SH NAME
web_stamap \- interactive station map based on the leaflet library
.SH SYNOPSIS
.nf
web_stamap [-v] [-p pffile] dbname
.fi

.SH DESCRIPTION
This utility produces a webpage for an interactive display of stations in a database. The stations can be grouped using search expressions in the paramter file.
The display relys on the \fIleaflet\fP javascript library written by Vladimir Agafonkin.

.SH OPTIONS
.IP "-v" 
verbose flag
.IP "-p pffile" 
parameter file
.IP "dbname"
Name of database. Only the site table is needed here.

.SH PARAMETER FILE

The following is a sample parameter file. Some of the parameters
should be fairly self-explanatory.

.nf
filebase        stations
title O&Ouml;W Station Map

logo_url https://geoweb.zamg.ac.at/images/zamg_logo_vert.png
logo_alt ZAMG Logo 
web_css https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.css 
web_js https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/leaflet.min.js 
dontshow        S[123456]TA|BSTA|CUVW|CXYZ|CO[ABCD]|VB[1-3]|AAA[0-9].*
layers &Tbl{
 &Arr{
   stations BZN|CRY|FRD|HSSP|SETM|SND|TONN|TRAN|WMC|B081|B082|B082A|B084|B086|B086A|B087|B088|B088A|B093|B946|ALCY|GVAR1|SJR|PSPR|TFRD
   icon    https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png
   description Anza Stations
 }
 &Arr{
   stations 
   icon    https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png
   description Other Stations
 }
}
.fi


.SH EXAMPLE
.nf
% web_stamap /opt/antelope/data/db/demo/demo
% open stations.html
.fi

.SH "BUGS AND CAVEATS"
The default parameter files is using icons and java-script libraries provided by the cloudflare CDN. For productive usage, I would recommend to provide locally hosted copies.

.SH "SEE ALSO"
.nf
antelope(1), rtexec(1), \fBhttps://leafletjs.com/\fP
.fi
.SH AUTHOR
.nf
Nikolaus Horn, 2022

ZAMG / Vienna, Nikolaus.Horn@zamg.ac.at
